(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41434,e=>{"use strict";var a=e.i(57324),r=e.i(78160);function t({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function s({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function n({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...t})}function l({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...t})}function i({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...t})}function o({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",e),...t})}e.s(["Card",()=>t,"CardContent",()=>i,"CardDescription",()=>l,"CardFooter",()=>o,"CardHeader",()=>s,"CardTitle",()=>n])},15467,e=>{"use strict";var a=e.i(57324),r=e.i(55316),t=e.i(28437),s=e.i(90212),n=e.i(16450);e.i(61596);var l=e.i(52240),i=Symbol("radix.slottable");function o(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}var d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{var s,n;let i,d,c,u=(n=s=`Primitive.${t}`,(i=r.forwardRef((e,a)=>{let{children:t,...s}=e;if(r.isValidElement(t)){var n;let e,i,o=(n=t,(i=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(i=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),d=function(e,a){let r={...a};for(let t in a){let s=e[t],n=a[t];/^on[A-Z]/.test(t)?s&&n?r[t]=(...e)=>{let a=n(...e);return s(...e),a}:s&&(r[t]=s):"style"===t?r[t]={...s,...n}:"className"===t&&(r[t]=[s,n].filter(Boolean).join(" "))}return{...e,...r}}(s,t.props);return t.type!==r.Fragment&&(d.ref=a?(0,l.composeRefs)(a,o):o),r.cloneElement(t,d)}return r.Children.count(t)>1?r.Children.only(null):null})).displayName=`${n}.SlotClone`,d=i,(c=r.forwardRef((e,t)=>{let{children:s,...n}=e,l=r.Children.toArray(s),i=l.find(o);if(i){let e=i.props.children,s=l.map(a=>a!==i?a:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,a.jsx)(d,{...n,ref:t,children:r.isValidElement(e)?r.cloneElement(e,void 0,s):null})}return(0,a.jsx)(d,{...n,ref:t,children:s})})).displayName=`${s}.Slot`,c),m=r.forwardRef((e,r)=>{let{asChild:s,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(s?u:t,{...n,ref:r})});return m.displayName=`Primitive.${t}`,{...e,[t]:m}},{}),c=e.i(26404),u=e.i(26456),m=e.i(48852),g="Tabs",[x,h]=function(e,t=[]){let s=[],n=()=>{let a=s.map(e=>r.createContext(e));return function(t){let s=t?.[e]||a;return r.useMemo(()=>({[`__scope${e}`]:{...t,[e]:s}}),[t,s])}};return n.scopeName=e,[function(t,n){let l=r.createContext(n),i=s.length;s=[...s,n];let o=t=>{let{scope:s,children:n,...o}=t,d=s?.[e]?.[i]||l,c=r.useMemo(()=>o,Object.values(o));return(0,a.jsx)(d.Provider,{value:c,children:n})};return o.displayName=t+"Provider",[o,function(a,s){let o=s?.[e]?.[i]||l,d=r.useContext(o);if(d)return d;if(void 0!==n)return n;throw Error(`\`${a}\` must be used within \`${t}\``)}]},function(...e){let a=e[0];if(1===e.length)return a;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=t.reduce((a,{useScope:r,scopeName:t})=>{let s=r(e)[`__scope${t}`];return{...a,...s}},{});return r.useMemo(()=>({[`__scope${a.scopeName}`]:s}),[s])}};return t.scopeName=a.scopeName,t}(n,...t)]}(g,[s.createRovingFocusGroupScope]),p=(0,s.createRovingFocusGroupScope)(),[b,y]=x(g),f=r.forwardRef((e,r)=>{let{__scopeTabs:t,value:s,onValueChange:n,defaultValue:l,orientation:i="horizontal",dir:o,activationMode:x="automatic",...h}=e,p=(0,c.useDirection)(o),[y,f]=(0,u.useControllableState)({prop:s,onChange:n,defaultProp:l??"",caller:g});return(0,a.jsx)(b,{scope:t,baseId:(0,m.useId)(),value:y,onValueChange:f,orientation:i,dir:p,activationMode:x,children:(0,a.jsx)(d.div,{dir:p,"data-orientation":i,...h,ref:r})})});f.displayName=g;var j="TabsList",v=r.forwardRef((e,r)=>{let{__scopeTabs:t,loop:n=!0,...l}=e,i=y(j,t),o=p(t);return(0,a.jsx)(s.Root,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:(0,a.jsx)(d.div,{role:"tablist","aria-orientation":i.orientation,...l,ref:r})})});v.displayName=j;var N="TabsTrigger",w=r.forwardRef((e,r)=>{let{__scopeTabs:n,value:l,disabled:i=!1,...o}=e,c=y(N,n),u=p(n),m=D(c.baseId,l),g=I(c.baseId,l),x=l===c.value;return(0,a.jsx)(s.Item,{asChild:!0,...u,focusable:!i,active:x,children:(0,a.jsx)(d.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":g,"data-state":x?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...o,ref:r,onMouseDown:(0,t.composeEventHandlers)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(l)}),onKeyDown:(0,t.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(l)}),onFocus:(0,t.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;x||i||!e||c.onValueChange(l)})})})});w.displayName=N;var C="TabsContent",T=r.forwardRef((e,t)=>{let{__scopeTabs:s,value:l,forceMount:i,children:o,...c}=e,u=y(C,s),m=D(u.baseId,l),g=I(u.baseId,l),x=l===u.value,h=r.useRef(x);return r.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(n.Presence,{present:i||x,children:({present:r})=>(0,a.jsx)(d.div,{"data-state":x?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!r,id:g,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:r&&o})})});function D(e,a){return`${e}-trigger-${a}`}function I(e,a){return`${e}-content-${a}`}T.displayName=C;var k=e.i(78160);function S({className:e,...r}){return(0,a.jsx)(f,{"data-slot":"tabs",className:(0,k.cn)("flex flex-col gap-2",e),...r})}function R({className:e,...r}){return(0,a.jsx)(v,{"data-slot":"tabs-list",className:(0,k.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...r})}function F({className:e,...r}){return(0,a.jsx)(w,{"data-slot":"tabs-trigger",className:(0,k.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function M({className:e,...r}){return(0,a.jsx)(T,{"data-slot":"tabs-content",className:(0,k.cn)("flex-1 outline-none",e),...r})}e.s(["Tabs",()=>S,"TabsContent",()=>M,"TabsList",()=>R,"TabsTrigger",()=>F],15467)},77256,e=>{"use strict";var a=e.i(57324),r=e.i(41434),t=e.i(86135);function s({status:e,downloadProgress:r}){return(0,a.jsx)(t.Badge,{variant:"outline",className:`${(()=>{switch(e){case"ready":return"bg-green-500/20 text-green-400 border-green-500/30";case"uploading":case"downloading":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"validating":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"pending":default:return"bg-gray-500/20 text-gray-400 border-gray-500/30";case"error":return"bg-red-500/20 text-red-400 border-red-500/30"}})()} border`,children:(()=>{switch(e){case"ready":return"Ready";case"uploading":return void 0!==r?`Uploading ${r}%`:"Uploading";case"downloading":return void 0!==r?`Downloading ${r}%`:"Downloading";case"validating":return"Validating";case"pending":return"Pending";case"error":return"Error";default:return e}})()})}var n=e.i(78448),l=e.i(63248),i=e.i(55316),o=e.i(65214),d=e.i(22337);let c=(0,d.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var u=e.i(407),m=e.i(47555),g=e.i(9202),x=e.i(91574),h=e.i(42929);function p({image:e,projectId:r,onActionComplete:t}){let[s,n]=(0,i.useState)(!1),l=(0,x.useDeleteImage)(r),d=async()=>{if(confirm(`Are you sure you want to delete "${e.name}"?`)){n(!0);try{await l.mutateAsync(e.id),t?.()}catch(e){console.error("Failed to delete image:",e),alert("Failed to delete image. Please try again.")}finally{n(!1)}}},p="ready"===e.status;return(0,a.jsxs)(g.DropdownMenu,{children:[(0,a.jsx)(g.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsxs)(m.Button,{variant:"ghost",className:"h-8 w-8 p-0 text-gray-400 hover:text-gray-100",children:[(0,a.jsx)(o.MoreHorizontal,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,a.jsxs)(g.DropdownMenuContent,{align:"end",className:"bg-gray-800 border-gray-700 text-gray-100",children:[(0,a.jsxs)(g.DropdownMenuItem,{onClick:()=>{let a=h.imagesApi.getDownloadURL(r,e.id);window.open(a,"_blank")},disabled:!p,className:"hover:bg-gray-700 cursor-pointer",children:[(0,a.jsx)(c,{className:"mr-2 h-4 w-4"}),"Download"]}),(0,a.jsxs)(g.DropdownMenuItem,{onClick:d,disabled:!!s,className:"hover:bg-gray-700 cursor-pointer text-red-400",children:[(0,a.jsx)(u.Trash2,{className:"mr-2 h-4 w-4"}),s?"Deleting...":"Delete"]})]})]})}function b({images:e,projectId:r,isLoading:t,onRefresh:i}){return t?(0,a.jsx)("div",{className:"space-y-2",children:[void 0,void 0,void 0].map((e,r)=>(0,a.jsx)(l.Skeleton,{className:"h-12 w-full bg-gray-700"},r))}):0===e.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-400",children:"No images found. Upload an image or fetch from URL to get started."}):(0,a.jsxs)(n.Table,{children:[(0,a.jsx)(n.TableHeader,{className:"bg-gray-900",children:(0,a.jsxs)(n.TableRow,{className:"border-gray-700 hover:bg-gray-900",children:[(0,a.jsx)(n.TableHead,{className:"text-gray-400 font-medium",children:"Name"}),(0,a.jsx)(n.TableHead,{className:"text-gray-400 font-medium",children:"Status"}),(0,a.jsx)(n.TableHead,{className:"text-gray-400 font-medium",children:"Format"}),(0,a.jsx)(n.TableHead,{className:"text-gray-400 font-medium",children:"Size"}),(0,a.jsx)(n.TableHead,{className:"text-gray-400 font-medium",children:"Created"}),(0,a.jsx)(n.TableHead,{className:"text-gray-400 font-medium text-right",children:"Actions"})]})}),(0,a.jsx)(n.TableBody,{className:"divide-y divide-gray-700",children:e.map(e=>(0,a.jsxs)(n.TableRow,{className:"border-gray-700 hover:bg-gray-800/50",children:[(0,a.jsxs)(n.TableCell,{children:[(0,a.jsx)("div",{className:"font-medium text-gray-100",children:e.name}),e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.description}),(0,a.jsx)("p",{className:"text-xs text-gray-600 truncate max-w-xs",children:e.filename})]}),(0,a.jsxs)(n.TableCell,{children:[(0,a.jsx)(s,{status:e.status,downloadProgress:e.downloadProgress}),e.errorMessage&&(0,a.jsx)("p",{className:"text-xs text-red-400 mt-1 truncate max-w-xs",children:e.errorMessage})]}),(0,a.jsx)(n.TableCell,{className:"text-gray-300 uppercase",children:e.format}),(0,a.jsx)(n.TableCell,{className:"text-gray-300",children:e.sizeFormatted||"â€”"}),(0,a.jsx)(n.TableCell,{className:"text-gray-300",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsx)(n.TableCell,{className:"text-right",children:(0,a.jsx)(p,{image:e,projectId:r,onActionComplete:i})})]},e.id))})]})}let y=(0,d.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),f=(0,d.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var j=e.i(30765),j=j,v=e.i(6378),N=e.i(49658),w=e.i(65496),C=e.i(15467);function T({projectId:e,onSuccess:r}){let[t,s]=(0,i.useState)(!1),[n,l]=(0,i.useState)(""),[o,d]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[g,h]=(0,i.useState)(null),[p,b]=(0,i.useState)(0),[T,D]=(0,i.useState)(!1),[I,k]=(0,i.useState)(null),S=(0,i.useRef)(null),R=(0,x.useCreateImageFromURL)(e),F=(0,x.useUploadImage)(e),M=()=>{T||(l(""),d(""),u(""),h(null),b(0),k(null),s(!1))},L=async()=>{if(!n||!c)return void k("Name and URL are required");D(!0),k(null);try{await R.mutateAsync({name:n,description:o||void 0,sourceURL:c}),M(),r?.()}catch(e){k(e instanceof Error?e.message:"Failed to create image")}finally{D(!1)}},U=async()=>{if(!n||!g)return void k("Name and file are required");D(!0),k(null),b(0);try{await F.mutateAsync({file:g,metadata:{name:n,description:o||void 0},onProgress:b}),M(),r?.()}catch(e){k(e instanceof Error?e.message:"Failed to upload image")}finally{D(!1)}};return(0,a.jsxs)(v.Dialog,{open:t,onOpenChange:s,children:[(0,a.jsx)(v.DialogTrigger,{asChild:!0,children:(0,a.jsxs)(m.Button,{className:"bg-blue-600 hover:bg-blue-700",children:[(0,a.jsx)(y,{className:"mr-2 h-4 w-4"}),"Add Image"]})}),(0,a.jsxs)(v.DialogContent,{className:"bg-gray-800 border-gray-700 text-gray-100 sm:max-w-lg",children:[(0,a.jsxs)(v.DialogHeader,{children:[(0,a.jsx)(v.DialogTitle,{children:"Add Image"}),(0,a.jsx)(v.DialogDescription,{className:"text-gray-400",children:"Upload a disk image or fetch from a URL."})]}),(0,a.jsxs)(C.Tabs,{defaultValue:"upload",className:"w-full",children:[(0,a.jsxs)(C.TabsList,{className:"grid w-full grid-cols-2 bg-gray-900",children:[(0,a.jsxs)(C.TabsTrigger,{value:"upload",className:"data-[state=active]:bg-gray-700",children:[(0,a.jsx)(y,{className:"mr-2 h-4 w-4"}),"Upload"]}),(0,a.jsxs)(C.TabsTrigger,{value:"url",className:"data-[state=active]:bg-gray-700",children:[(0,a.jsx)(f,{className:"mr-2 h-4 w-4"}),"From URL"]})]}),(0,a.jsxs)(C.TabsContent,{value:"upload",className:"space-y-4 mt-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w.Label,{htmlFor:"name",children:"Name"}),(0,a.jsx)(N.Input,{id:"name",value:n,onChange:e=>l(e.target.value),placeholder:"Ubuntu 22.04 Server",className:"bg-gray-700 border-gray-600"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w.Label,{htmlFor:"description",children:"Description (optional)"}),(0,a.jsx)(N.Input,{id:"description",value:o,onChange:e=>d(e.target.value),placeholder:"Ubuntu 22.04 LTS server image",className:"bg-gray-700 border-gray-600"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w.Label,{children:"Image File"}),(0,a.jsx)("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-6 text-center cursor-pointer hover:border-gray-500 transition-colors",onClick:()=>S.current?.click(),onDrop:e=>{e.preventDefault();let a=e.dataTransfer.files?.[0];a&&(h(a),n||l(a.name.replace(/\.(qcow2|img|raw|iso)$/i,"")))},onDragOver:e=>{e.preventDefault()},children:g?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)("span",{className:"text-gray-300",children:g.name}),(0,a.jsx)(m.Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:e=>{e.stopPropagation(),h(null)},children:(0,a.jsx)(j.default,{className:"h-4 w-4"})})]}):(0,a.jsxs)("div",{className:"text-gray-400",children:[(0,a.jsx)(y,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{children:"Click to select or drag and drop"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"QCOW2, RAW, IMG, or ISO files"})]})}),(0,a.jsx)("input",{ref:S,type:"file",accept:".qcow2,.img,.raw,.iso",onChange:e=>{let a=e.target.files?.[0];a&&(h(a),n||l(a.name.replace(/\.(qcow2|img|raw|iso)$/i,"")))},className:"hidden"})]}),p>0&&p<100&&(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-400",children:[(0,a.jsx)("span",{children:"Uploading..."}),(0,a.jsxs)("span",{children:[p,"%"]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${p}%`}})})]}),I&&(0,a.jsx)("p",{className:"text-sm text-red-400",children:I}),(0,a.jsxs)(v.DialogFooter,{children:[(0,a.jsx)(m.Button,{variant:"outline",onClick:M,disabled:T,className:"border-gray-600",children:"Cancel"}),(0,a.jsx)(m.Button,{onClick:U,disabled:!n||!g||T,className:"bg-blue-600 hover:bg-blue-700",children:T?"Uploading...":"Upload"})]})]}),(0,a.jsxs)(C.TabsContent,{value:"url",className:"space-y-4 mt-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w.Label,{htmlFor:"url-name",children:"Name"}),(0,a.jsx)(N.Input,{id:"url-name",value:n,onChange:e=>l(e.target.value),placeholder:"Ubuntu 22.04 Server",className:"bg-gray-700 border-gray-600"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w.Label,{htmlFor:"url-description",children:"Description (optional)"}),(0,a.jsx)(N.Input,{id:"url-description",value:o,onChange:e=>d(e.target.value),placeholder:"Ubuntu 22.04 LTS server image",className:"bg-gray-700 border-gray-600"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w.Label,{htmlFor:"source-url",children:"Source URL"}),(0,a.jsx)(N.Input,{id:"source-url",type:"url",value:c,onChange:e=>u(e.target.value),placeholder:"https://cloud-images.ubuntu.com/jammy/current/jammy-server-cloudimg-amd64.img",className:"bg-gray-700 border-gray-600"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"The image will be downloaded in the background."})]}),I&&(0,a.jsx)("p",{className:"text-sm text-red-400",children:I}),(0,a.jsxs)(v.DialogFooter,{children:[(0,a.jsx)(m.Button,{variant:"outline",onClick:M,disabled:T,className:"border-gray-600",children:"Cancel"}),(0,a.jsx)(m.Button,{onClick:L,disabled:!n||!c||T,className:"bg-blue-600 hover:bg-blue-700",children:T?"Creating...":"Fetch Image"})]})]})]})]})]})}var D=e.i(43737),I=e.i(91644),k=e.i(62190),S=e.i(2175);let R=(0,d.default)("folder-plus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var F=e.i(7059);function M(){let{currentOrg:e}=(0,I.useOrganization)(),[t,s]=(0,i.useState)(null),{data:n,isLoading:l}=(0,D.useProjectsForOrganization)(e?.id);(0,i.useEffect)(()=>{n&&n.length>0&&!t&&s(n[0].id)},[n,t]);let o=t||"",{data:d,isLoading:c}=(0,x.useImages)(o||void 0),u=(0,x.useInvalidateImages)(o);return l?(0,a.jsx)("div",{className:"container mx-auto py-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,a.jsx)(S.Loader2,{className:"h-8 w-8 animate-spin text-blue-400"}),(0,a.jsx)("span",{className:"ml-2 text-gray-400",children:"Loading projects..."})]})}):n&&0!==n.length?(0,a.jsxs)("div",{className:"container mx-auto py-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(k.HardDrive,{className:"h-8 w-8 text-blue-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-100",children:"Images"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Manage disk images for virtual machines"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[n.length>1&&(0,a.jsxs)(F.Select,{value:t||void 0,onValueChange:s,children:[(0,a.jsx)(F.SelectTrigger,{className:"w-48 bg-gray-900 border-gray-700 text-gray-100",children:(0,a.jsx)(F.SelectValue,{placeholder:"Select project"})}),(0,a.jsx)(F.SelectContent,{className:"bg-gray-800 border-gray-700",children:n.map(e=>(0,a.jsx)(F.SelectItem,{value:e.id,className:"text-gray-100 focus:bg-gray-700 focus:text-gray-100",children:e.name},e.id))})]}),o&&(0,a.jsx)(T,{projectId:o,onSuccess:u})]})]}),(0,a.jsxs)(r.Card,{className:"bg-gray-800 border-gray-700",children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsx)(r.CardTitle,{className:"text-gray-100",children:1===n.length?`Images in ${n[0].name}`:"All Images"})}),(0,a.jsx)(r.CardContent,{children:(0,a.jsx)(b,{images:d||[],projectId:o,isLoading:c,onRefresh:u})})]})]}):(0,a.jsxs)("div",{className:"container mx-auto py-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(k.HardDrive,{className:"h-8 w-8 text-blue-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-100",children:"Images"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Manage disk images for virtual machines"})]})]}),(0,a.jsx)(r.Card,{className:"bg-gray-800 border-gray-700",children:(0,a.jsx)(r.CardContent,{className:"py-12",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[(0,a.jsx)(R,{className:"h-12 w-12 text-gray-500 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-100 mb-2",children:"No Projects Found"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 max-w-md",children:"You need to create a project before you can upload images. Projects help organize your resources within an organization."})]})})})]})}e.s(["default",()=>M],77256)}]);