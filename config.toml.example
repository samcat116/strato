# Strato Agent Configuration File
# 
# This file configures the Strato hypervisor agent. Command-line arguments
# will override these settings when provided.

# WebSocket URL for connecting to the Control Plane
# Required field - agent cannot start without this
control_plane_url = "ws://localhost:8080/agent/ws"

# Directory where QEMU will create domain sockets for VM communication
# Optional - defaults to "/var/run/qemu" if not specified
qemu_socket_dir = "/var/run/qemu"

# Logging level: trace, debug, info, notice, warning, error, critical
# Optional - defaults to "info" if not specified
log_level = "info"

# Certificate-based authentication (optional)
# If not configured, agent will use legacy token-based authentication
certificate_path = "/etc/strato/certs/agent.crt"
private_key_path = "/etc/strato/certs/agent.key"
ca_bundle_path = "/etc/strato/certs/ca-bundle.crt"

# Join token for initial enrollment (optional)
# Used only during initial certificate enrollment
# join_token = "your-join-token-here"

# Enrollment URL for certificate-based authentication
# URL to enroll with the control plane and get certificates
enrollment_url = "https://localhost:8080/agent/enroll"

# Auto-renewal settings
# Enable automatic certificate renewal (default: true)
auto_renewal = true

# Renewal threshold as percentage of certificate lifetime (default: 0.6 = 60%)
# Certificate will be renewed when 60% of its lifetime has passed
renewal_threshold = 0.6

# Additional configuration options can be added here as needed
# Examples:
# heartbeat_interval = 30
# max_vms = 10
# vm_images_dir = "/var/lib/strato/images"