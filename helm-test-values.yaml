image:
  repository: strato-control-plane
  tag: "latest"
  pullPolicy: IfNotPresent

# Enable ingress for local testing
ingress:
  enabled: true
  className: ""
  hosts:
    - host: strato.k8s.orb.local
      paths:
        - path: /
          pathType: Prefix
  # TLS configuration for HTTPS
  tls:
    - secretName: app-tls
      hosts:
        - strato.k8s.orb.local
  # Optional: Add cert-manager annotation for automatic certificate generation
  # annotations:
  #   cert-manager.io/cluster-issuer: letsencrypt-prod

strato:
  logLevel: debug
  webauthn:
    # These will be auto-configured from ingress hostname:
    # relyingPartyId: strato.minikube.local
    # relyingPartyOrigin: http://strato.minikube.local
    relyingPartyName: "Strato Test"

spicedb:
  enabled: true
  presharedKey: "test-key-for-minikube"

postgresql:
  enabled: true
  auth:
    database: vapor_database
    username: vapor_username
    password: test-password
    postgresPassword: test-postgres-password

# Disable resource limits for testing
resources: {}

# Enable init containers for proper startup ordering
initContainers:
  waitForDB:
    enabled: true
  waitForSpiceDB:
    enabled: true

# Enable migration job
migration:
  enabled: true
