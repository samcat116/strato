# Strato Agent Configuration with SPIFFE mTLS
# Connects to control plane via Envoy mTLS proxy
control_plane_url = "wss://localhost:8443/agent/ws"
qemu_socket_dir = "/tmp/strato-qemu-sockets"
log_level = "debug"
network_mode = "user"

[spiffe]
enabled = true
trust_domain = "strato.local"
# Using file-based SVIDs (fetched via fetch-agent-svid task)
source_type = "files"
certificate_path = "/tmp/strato-spiffe/svid.pem"
private_key_path = "/tmp/strato-spiffe/svid.key"
trust_bundle_path = "/tmp/strato-spiffe/bundle.pem"
